import{t as p,a as l}from"../chunks/DxBXjXmF.js";import"../chunks/C4L0k4eq.js";import{v as lt,w as ut,x as d,g as t,y as b,z as u,A as i,B,C as w,D as v,F as V,G as vt}from"../chunks/BiIK8VG2.js";import{s as k,e as y}from"../chunks/DmT0bmjt.js";import{i as D}from"../chunks/DYUAmZIh.js";import{e as H,i as J,s as pt}from"../chunks/7JEEDmEq.js";import{i as mt}from"../chunks/BiEiHw7x.js";var ft=p("<button> </button>"),_t=p("<h2>Choisis une r√©gion :</h2> <!>",1),dt=p("<h2>Fin du jeu !</h2> <p> </p> <button>Rejouer</button>",1),ht=p('<button class="svelte-80kctp"> </button>'),gt=p("<button>Question suivante</button>"),bt=p("<button>Voir le score final</button>"),kt=p('<p class="counter svelte-80kctp"> </p> <!>',1),xt=p('<h2>Quelle est la capitale de ce pays ?</h2> <a href="/">accueil</a> <img class="flag svelte-80kctp" alt="Drapeau"> <p class="country-name svelte-80kctp"> </p> <div class="options svelte-80kctp"></div> <!> <p class="counter svelte-80kctp"> </p> <p class="counter svelte-80kctp"> </p>',1),Ct=p('<div class="container svelte-80kctp"><!></div>');function Bt(K,P){lt(P,!1);let W=[{name:"Europe",url:"https://restcountries.com/v3.1/region/europe"},{name:"Asie",url:"https://restcountries.com/v3.1/region/asia"},{name:"Am√©rique",url:"https://restcountries.com/v3.1/region/america"},{name:"Afrique",url:"https://restcountries.com/v3.1/region/africa"},{name:"Oc√©anie",url:"https://restcountries.com/v3.1/region/oceania"},{name:"Monde entier",url:"https://restcountries.com/v3.1/all"}],h=[],A=b({}),Q=b([]),q=b(!1),j=b(0),C=b(0),I=b(!1),z="",L=b(!1);function X(e){z=e,v(L,!0),Y()}async function Y(){try{h=await(await fetch(z)).json(),E()}catch(e){console.error(e)}}function E(){var r,a,n;if(t(C)>=10){v(I,!0);return}v(q,!1);const e=Math.floor(Math.random()*h.length);v(A,h[e]);const g=((r=t(A).capital)==null?void 0:r[0])||"Capitale inconnue",x=((a=h[Math.floor(Math.random()*h.length)].capital)==null?void 0:a[0])||"Inconnue";let m;do m=((n=h[Math.floor(Math.random()*h.length)].capital)==null?void 0:n[0])||"Inconnue";while(m===x||m===g);v(Q,[{name:g,isCorrect:!0},{name:x,isCorrect:!1},{name:m,isCorrect:!1}].sort(()=>Math.random()-.5))}function Z(e){v(q,!0),e.isCorrect&&V(j)}function S(){V(C),E()}function $(){v(j,0),v(C,0),v(I,!1),E()}mt();var F=Ct(),tt=d(F);{var et=e=>{var g=_t(),x=i(B(g),2);H(x,1,()=>W,J,(m,r)=>{var a=ft(),n=d(a,!0);u(a),w(()=>k(n,t(r).name)),y("click",a,()=>X(t(r).url)),l(m,a)}),l(e,g)},at=(e,g)=>{{var x=r=>{var a=dt(),n=i(B(a),2),M=d(n);u(n);var G=i(n,2);w(()=>k(M,`Tu as trouv√© ${t(j)??""} bonne(s) r√©ponse(s) sur 10.`)),y("click",G,$),l(r,a)},m=r=>{var a=xt(),n=i(B(a),4),M=i(n,2),G=d(M,!0);u(M);var N=i(M,2);H(N,5,()=>t(Q),J,(f,_)=>{var o=ht(),R=d(o,!0);u(o),w(()=>{o.disabled=t(q),k(R,t(_).name)}),y("click",o,()=>Z(t(_))),l(f,o)}),u(N);var T=i(N,2);{var rt=f=>{var _=kt(),o=B(_),R=d(o,!0);u(o);var st=i(o,2);{var it=s=>{var c=gt();y("click",c,S),l(s,c)},ct=s=>{var c=bt();y("click",c,S),l(s,c)};D(st,s=>{t(C)<9?s(it):s(ct,!1)})}w(s=>k(R,s),[()=>{var s;return((s=t(Q).find(c=>c.isCorrect))==null?void 0:s.name)==="Capitale inconnue"?"La capitale est inconnue üòï":`Bonne r√©ponse : ${t(Q).find(c=>c.isCorrect).name}`}],vt),l(f,_)};D(T,f=>{t(q)&&f(rt)})}var O=i(T,2),ot=d(O);u(O);var U=i(O,2),nt=d(U);u(U),w(()=>{var f,_,o;pt(n,"src",(f=t(A).flags)==null?void 0:f.png),k(G,((o=(_=t(A).translations)==null?void 0:_.fra)==null?void 0:o.common)||"Nom du pays inconnu"),k(ot,`Question : ${t(C)+1}/10`),k(nt,`Bonne(s) r√©ponse(s) : ${t(j)??""}`)}),l(r,a)};D(e,r=>{t(I)?r(x):r(m,!1)},g)}};D(tt,e=>{t(L)?e(at,!1):e(et)})}u(F),l(K,F),ut()}export{Bt as component};
