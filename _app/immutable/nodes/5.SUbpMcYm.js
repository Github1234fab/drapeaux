import{t as R,a as C}from"../chunks/DxBXjXmF.js";import"../chunks/C4L0k4eq.js";import{v as U,w as V,D as _,y as u,g as t,x as p,z as r,A as n,C as Q,I as W,F as O,B as X,G as Y}from"../chunks/BiIK8VG2.js";import{s as x,e as G}from"../chunks/DmT0bmjt.js";import{i as S}from"../chunks/DYUAmZIh.js";import{e as Z,i as tt,s as q}from"../chunks/7JEEDmEq.js";import{i as et}from"../chunks/BiEiHw7x.js";import{o as at}from"../chunks/Nekdk8dP.js";var st=R('<button class="svelte-1xs2t5h"> </button>'),ot=R('<p> </p> <button class="next svelte-1xs2t5h" aria-label="Question suivante">Suivant</button>',1),rt=R('<div class="container svelte-1xs2t5h"><h2>Comment appelle-t-on les habitants de :</h2> <h1> </h1> <img class="flag svelte-1xs2t5h"> <a href="/">Accueil</a> <div class="options svelte-1xs2t5h"></div> <!> <p class="score svelte-1xs2t5h"> <br> </p></div>'),nt=R('<div class="score svelte-1xs2t5h"><h2>Quiz terminé !</h2> <p> </p> <button class="svelte-1xs2t5h">Rejouer</button> <a href="/">Retour au menu principal</a></div>'),it=R('<main class="svelte-1xs2t5h"><!></main>');function dt(P,E){U(E,!1);let g=[],$=u(""),I=u(""),b=u(""),j=u([]),z=u(!1),k=u(0),A=u(0);at(async()=>{g=await(await fetch("https://restcountries.com/v3.1/all")).json(),N()});function N(){var l,f,y,D,M,w,B,m,c,s,h;_(z,!1);const a=Math.floor(Math.random()*g.length),e=g[a];_($,((f=(l=e.translations)==null?void 0:l.fra)==null?void 0:f.common)||e.name.common),_(I,(y=e.flags)==null?void 0:y.png);const o=((M=(D=e.demonyms)==null?void 0:D.fra)==null?void 0:M.m)||((B=(w=e.demonyms)==null?void 0:w.eng)==null?void 0:B.m)||"Non disponible";_(b,o);let i=[];for(;i.length<2;){const d=g[Math.floor(Math.random()*g.length)],v=((c=(m=d.demonyms)==null?void 0:m.fra)==null?void 0:c.m)||((h=(s=d.demonyms)==null?void 0:s.eng)==null?void 0:h.m)||null;v&&v!==t(b)&&!i.includes(v)&&i.push(v)}_(j,[{name:t(b),isCorrect:!0},...i.map(d=>({name:d,isCorrect:!1}))].sort(()=>Math.random()-.5))}function H(a){a.isCorrect&&O(A),O(k),_(z,!0)}function J(){t(k)<10&&N()}et();var F=it(),K=p(F);{var L=a=>{var e=rt(),o=n(p(e),2),i=p(o,!0);r(o);var l=n(o,2),f=n(l,4);Z(f,5,()=>t(j),tt,(m,c)=>{var s=st(),h=p(s,!0);r(s),Q(()=>x(h,t(c).name)),G("click",s,()=>H(t(c))),C(m,s)}),r(f);var y=n(f,2);{var D=m=>{var c=ot(),s=X(c),h=p(s,!0);r(s);var d=n(s,2);Q(v=>x(h,v),[()=>t(j).find(v=>v.isCorrect).name===t(b)?"Bonne réponse !":`Mauvaise réponse. Réponse attendue : ${t(b)}`],Y),G("click",d,J),C(m,c)};S(y,m=>{t(z)&&m(D)})}var M=n(y,2),w=p(M),B=n(w,2);r(M),r(e),Q(()=>{x(i,t($)),q(l,"src",t(I)),q(l,"alt",`Drapeau de ${t($)??""}`),x(w,`Question : ${t(k)??""} / 10`),x(B,` Bonnes réponses : ${t(A)??""}`)}),C(a,e)},T=a=>{var e=nt(),o=n(p(e),2),i=p(o);r(o);var l=n(o,2);W(2),r(e),Q(()=>x(i,`Score final : ${t(A)??""} / 10`)),G("click",l,()=>location.reload()),C(a,e)};S(K,a=>{t(k)<10?a(L):a(T,!1)})}r(F),C(P,F),V()}export{dt as component};
