import{t as x,a as f,c as nt}from"../chunks/DxBXjXmF.js";import"../chunks/C4L0k4eq.js";import{v as it,w as lt,D as d,y as h,g as t,x as i,z as o,B as A,A as p,C as B,G as V,F as E}from"../chunks/BiIK8VG2.js";import{s as b,e as O}from"../chunks/DmT0bmjt.js";import{i as R}from"../chunks/DYUAmZIh.js";import{e as ct,i as vt,s as H}from"../chunks/7JEEDmEq.js";import{s as ut}from"../chunks/ClUvGgQm.js";import{i as mt}from"../chunks/BiEiHw7x.js";import{o as ft}from"../chunks/Nekdk8dP.js";var dt=x("<button> </button>"),ht=x('<button class="next svelte-1tthoyv" aria-label="Question suivante">Suivant</button>'),pt=x('<div class="status svelte-1tthoyv"><p> </p> <p> </p></div> <a href="/">Accueil</a> <div style="text-align: center;"><img class="flag svelte-1tthoyv"></div> <h1 class="svelte-1tthoyv"> </h1> <div class="options svelte-1tthoyv"></div> <!>',1),_t=x('<h2 class="svelte-1tthoyv"> </h2> <button class="svelte-1tthoyv">Rejouer</button>',1),gt=x('<main class="svelte-1tthoyv"><div class="container svelte-1tthoyv"><!></div></main>');function jt(J,K){it(K,!1);let _=[],u=h(null),z=h([]),g=h(0),y=h(0),m=h(!1),C=h(null);ft(async()=>{_=await(await fetch("https://restcountries.com/v3.1/all")).json(),D()});function D(){d(m,!1),d(C,null);const e=Math.floor(Math.random()*_.length);d(u,_[e]),L(t(u))}function F(e){var a;const r=Object.keys(e.currencies||{})[0];return r?((a=e.currencies[r])==null?void 0:a.name)||r:"Inconnu"}function G(e){var r,a;return((a=(r=e.translations)==null?void 0:r.fra)==null?void 0:a.common)||e.name.common}function L(e){const r=F(e),a=[];for(;a.length<2;){const c=_[Math.floor(Math.random()*_.length)],n=F(c);n!==r&&!a.includes(n)&&a.push(n)}d(z,[{name:r,isCorrect:!0},...a.map(c=>({name:c,isCorrect:!1}))].sort(()=>Math.random()-.5))}function T(e){t(m)||(d(C,e),e.isCorrect&&E(g),d(m,!0))}function U(){E(y),t(y)<10&&D()}mt();var w=gt(),I=i(w),W=i(I);{var X=e=>{var r=nt(),a=A(r);{var c=n=>{var q=pt(),M=A(q),k=i(M),Z=i(k);o(k);var N=p(k,2),tt=i(N);o(N),o(M);var $=p(M,4),P=i($);o($);var Q=p($,2),et=i(Q);o(Q);var j=p(Q,2);ct(j,5,()=>t(z),vt,(v,s)=>{var l=dt();let S;var st=i(l,!0);o(l),B(ot=>{S=ut(l,1,"svelte-1tthoyv",null,S,ot),b(st,t(s).name)},[()=>({selected:t(C)===t(s),correct:t(m)&&t(s).isCorrect,wrong:t(m)&&t(C)===t(s)&&!t(s).isCorrect})],V),O("click",l,()=>T(t(s))),f(v,l)}),o(j);var at=p(j,2);{var rt=v=>{var s=ht();O("click",s,U),f(v,s)};R(at,v=>{t(m)&&t(y)<10&&v(rt)})}B((v,s)=>{var l;b(Z,`Question ${t(y)+1}/10`),b(tt,`Bonnes rÃ©ponses : ${t(g)??""}`),H(P,"src",(l=t(u).flags)==null?void 0:l.png),H(P,"alt",`Drapeau de ${v??""}`),b(et,`Quelle est la monnaie de ${s??""} ?`)},[()=>G(t(u)),()=>G(t(u))],V),f(n,q)};R(a,n=>{t(u)&&n(c)})}f(e,r)},Y=e=>{var r=_t(),a=A(r),c=i(a);o(a);var n=p(a,2);B(()=>b(c,`Bravo ðŸŽ‰ Vous avez trouvÃ© ${t(g)??""} bonne${t(g)>1?"s":""} rÃ©ponse${t(g)>1?"s":""} sur 10 !`)),O("click",n,()=>location.reload()),f(e,r)};R(W,e=>{t(y)<10?e(X):e(Y,!1)})}o(I),o(w),f(J,w),lt()}export{jt as component};
